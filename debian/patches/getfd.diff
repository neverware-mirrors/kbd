Index: trunk/src/getfd.c
===================================================================
--- trunk.orig/src/getfd.c
+++ trunk/src/getfd.c
@@ -59,6 +59,10 @@
 		exit(1);
 	}
 
+	fd = open_a_console("/proc/self/fd/0");
+	if (fd >= 0)
+		return fd;
+
 	fd = open_a_console("/dev/tty");
 	if (fd >= 0)
 		return fd;
